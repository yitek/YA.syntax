<div class="article_content clearfix" id="article_content">
    <div class="blog-column-pay">
<a href="https://bss.csdn.net/m/topic/blog_star2019" target="_blank" data-report-click='{"mod":"popu_834","dest":"https://bss.csdn.net/m/topic/blog_star2019","strategy":"pc文章详情页博客之星广告位"}' data-report-query="utm_source=bkzx_BWzd">
<img style="width:100%" src="https://img-blog.csdnimg.cn/20191216172544126.png">
</a>
</div>
<link href="https://csdnimg.cn/release/phoenix/template/css/ck_htmledit_views-833878f763.css" rel="stylesheet">
 <div class="markdown_views" id="content_views">
<!-- flowchart 箭头图标 勿删 -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
<path id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);" stroke-linecap="round" d="M 5 0 L 0 2.5 L 5 5 Z" />
</svg>
     <h1 id="算法的功能"><a name="t0"></a><a name="t0"></a>算法的功能</h1>

<p>对于任意上下文无关的文法消除左递归</p>



<h1 id="问题分析"><a name="t1"></a><a name="t1"></a>问题分析</h1>



<h3 id="一产生式直接消除左递归"><a name="t2"></a><a name="t2"></a>一、产生式直接消除左递归</h3>

<p>形如<span class="MathJax_Preview" style="color: inherit; display: none;"></span><span tabindex="0" class="MathJax" id="MathJax-Element-1-Frame" role="presentation" style="position: relative;" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">&amp;#x2192;</mo><mi>P</mi><mi>&amp;#x03B1;</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>&amp;#x03B2;</mi></math>'><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 5.65em; display: inline-block;"><span style="width: 4.5em; height: 0px; font-size: 125%; display: inline-block; position: relative;"><span style="left: 0em; top: -2.35em; position: absolute; clip: rect(1.45em, 1004.5em, 2.74em, -1000em);"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: MathJax_Math; font-style: italic;">P<span style="width: 0.1em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mo" id="MathJax-Span-4" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-5" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">P<span style="width: 0.1em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math; font-style: italic;">α</span><span class="texatom" id="MathJax-Span-7"><span class="mrow" id="MathJax-Span-8"><span class="mo" id="MathJax-Span-9" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-10" style="font-family: MathJax_Math; font-style: italic;">β<span style="width: 0em; height: 1px; overflow: hidden; display: inline-block;"></span></span></span><span style="width: 0px; height: 2.35em; display: inline-block;"></span></span></span><span style="width: 0px; height: 1.37em; overflow: hidden; vertical-align: -0.37em; border-left-color: currentColor; border-left-width: 0px; border-left-style: solid; display: inline-block;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">→</mo><mi>P</mi><mi>α</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>β</mi></math></span></span><script id="MathJax-Element-1" type="math/tex">P\rightarrow P \alpha | \beta</script>可以通过直接消除转化为： <br>
<span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"></div><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span tabindex="0" class="MathJax" id="MathJax-Element-2-Frame" role="presentation" style="text-align: center; position: relative;" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd /><mtd><mi>P</mi><mo stretchy="false">&amp;#x2192;</mo><mi>&amp;#x03B2;</mi><msup><mi>P</mi><mo>&amp;#x2032;</mo></msup></mtd></mtr><mtr><mtd /><mtd><msup><mi>P</mi><mo>&amp;#x2032;</mo></msup><mo stretchy="false">&amp;#x2192;</mo><mi>&amp;#x03B1;</mi><msup><mi>P</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>&amp;#x03F5;</mi></mtd></mtr></mtable></math>'><nobr aria-hidden="true"><span class="math" id="MathJax-Span-11" style="width: 6.68em; display: inline-block;"><span style="width: 5.35em; height: 0px; font-size: 124%; display: inline-block; position: relative;"><span style="left: 0em; top: -2.3em; position: absolute; clip: rect(0.69em, 1005.17em, 3.41em, -1000em);"><span class="mrow" id="MathJax-Span-12"><span class="mtable" id="MathJax-Span-13" style="padding-right: 0.16em; padding-left: 0.16em;"><span style="width: 5.07em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.17em, 1000em, 4.83em, -1000em);"><span style="width: 0em; height: 0px; display: inline-block; position: relative;"><span style="top: -4.59em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-14"><span class="mrow" id="MathJax-Span-15"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -3.29em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-24"><span class="mrow" id="MathJax-Span-25"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(2.36em, 1005.04em, 5.08em, -1000em);"><span style="width: 5.07em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -4.59em; position: absolute; clip: rect(2.99em, 1003.96em, 4.34em, -1000em);"><span class="mtd" id="MathJax-Span-16"><span class="mrow" id="MathJax-Span-17"><span class="mi" id="MathJax-Span-18" style="font-family: MathJax_Math; font-style: italic;">P<span style="width: 0.1em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mo" id="MathJax-Span-19" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-20" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">β<span style="width: 0em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="msup" id="MathJax-Span-21"><span style="width: 1.1em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.14em, -1000em);"><span class="mi" id="MathJax-Span-22" style="font-family: MathJax_Math; font-style: italic;">P<span style="width: 0.1em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.83em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-23" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.29em; position: absolute; clip: rect(2.99em, 1005.04em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-26"><span class="mrow" id="MathJax-Span-27"><span class="msup" id="MathJax-Span-28"><span style="width: 1.1em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.14em, -1000em);"><span class="mi" id="MathJax-Span-29" style="font-family: MathJax_Math; font-style: italic;">P<span style="width: 0.1em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.83em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-30" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="mo" id="MathJax-Span-31" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-32" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">α</span><span class="msup" id="MathJax-Span-33"><span style="width: 1.1em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.14em, -1000em);"><span class="mi" id="MathJax-Span-34" style="font-family: MathJax_Math; font-style: italic;">P<span style="width: 0.1em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.83em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-35" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-36"><span class="mrow" id="MathJax-Span-37"><span class="mo" id="MathJax-Span-38" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-39" style="font-family: MathJax_Math; font-style: italic;">ϵ</span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span><span style="width: 0px; height: 2.3em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.07em; overflow: hidden; vertical-align: -1.22em; border-left-color: currentColor; border-left-width: 0px; border-left-style: solid; display: inline-block;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" columnalign="right left right left right left right left right left right left"><mtr><mtd></mtd><mtd><mi>P</mi><mo stretchy="false">→</mo><mi>β</mi><msup><mi>P</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd></mtd><mtd><msup><mi>P</mi><mo>′</mo></msup><mo stretchy="false">→</mo><mi>α</mi><msup><mi>P</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>ϵ</mi></mtd></mtr></mtable></math></span></span></div><script id="MathJax-Element-2" type="math/tex; mode=display">
\begin{aligned}
&P \rightarrow \beta P' \\ 
&P' \rightarrow \alpha P' | \epsilon
\end{aligned}
</script><p></p>



<h3 id="二产生式间接消除左递归"><a name="t3"></a><a name="t3"></a>二、产生式间接消除左递归</h3>

<p>有时候虽然形式上产生式没有递归，但是因为形成了环，所以导致进行闭包运算后出现左递归，如下：</p>



<p><span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"></div><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span tabindex="0" class="MathJax" id="MathJax-Element-3-Frame" role="presentation" style="text-align: center; position: relative;" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd /><mtd><mi>S</mi><mo stretchy="false">&amp;#x2192;</mo><mi>Q</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi></mtd></mtr><mtr><mtd /><mtd><mi>Q</mi><mo stretchy="false">&amp;#x2192;</mo><mi>R</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi></mtd></mtr><mtr><mtd /><mtd><mi>R</mi><mo stretchy="false">&amp;#x2192;</mo><mi>S</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi></mtd></mtr></mtable></math>'><nobr aria-hidden="true"><span class="math" id="MathJax-Span-40" style="width: 5.76em; display: inline-block;"><span style="width: 4.6em; height: 0px; font-size: 124%; display: inline-block; position: relative;"><span style="left: 0em; top: -2.3em; position: absolute; clip: rect(0em, 1004.42em, 4.1em, -1000em);"><span class="mrow" id="MathJax-Span-41"><span class="mtable" id="MathJax-Span-42" style="padding-right: 0.16em; padding-left: 0.16em;"><span style="width: 4.28em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(2.47em, 1000em, 5.52em, -1000em);"><span style="width: 0em; height: 0px; display: inline-block; position: relative;"><span style="top: -5.29em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-43"><span class="mrow" id="MathJax-Span-44"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -3.94em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-55"><span class="mrow" id="MathJax-Span-56"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -2.6em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-67"><span class="mrow" id="MathJax-Span-68"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -4.72em; position: absolute; clip: rect(2.47em, 1004.25em, 6.52em, -1000em);"><span style="width: 4.28em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -5.29em; position: absolute; clip: rect(3.05em, 1004.11em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-45"><span class="mrow" id="MathJax-Span-46"><span class="mi" id="MathJax-Span-47" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mo" id="MathJax-Span-48" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-49" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">Q</span><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="texatom" id="MathJax-Span-51"><span class="mrow" id="MathJax-Span-52"><span class="mo" id="MathJax-Span-53" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-54" style="font-family: MathJax_Math; font-style: italic;">c</span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.94em; position: absolute; clip: rect(3.05em, 1004.22em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-57"><span class="mrow" id="MathJax-Span-58"><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math; font-style: italic;">Q</span><span class="mo" id="MathJax-Span-60" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-61" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">R</span><span class="mi" id="MathJax-Span-62" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="texatom" id="MathJax-Span-63"><span class="mrow" id="MathJax-Span-64"><span class="mo" id="MathJax-Span-65" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-66" style="font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -2.6em; position: absolute; clip: rect(3.05em, 1004.25em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-69"><span class="mrow" id="MathJax-Span-70"><span class="mi" id="MathJax-Span-71" style="font-family: MathJax_Math; font-style: italic;">R</span><span class="mo" id="MathJax-Span-72" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-73" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mi" id="MathJax-Span-74" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="texatom" id="MathJax-Span-75"><span class="mrow" id="MathJax-Span-76"><span class="mo" id="MathJax-Span-77" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math; font-style: italic;">a</span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 4.72em; display: inline-block;"></span></span></span></span></span><span style="width: 0px; height: 2.3em; display: inline-block;"></span></span></span><span style="width: 0px; height: 4.78em; overflow: hidden; vertical-align: -2.08em; border-left-color: currentColor; border-left-width: 0px; border-left-style: solid; display: inline-block;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" columnalign="right left right left right left right left right left right left"><mtr><mtd></mtd><mtd><mi>S</mi><mo stretchy="false">→</mo><mi>Q</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi></mtd></mtr><mtr><mtd></mtd><mtd><mi>Q</mi><mo stretchy="false">→</mo><mi>R</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi></mtd></mtr><mtr><mtd></mtd><mtd><mi>R</mi><mo stretchy="false">→</mo><mi>S</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi></mtd></mtr></mtable></math></span></span></div><script id="MathJax-Element-3" type="math/tex; mode=display">
\begin{aligned}
&S \rightarrow Qc| c\\
&Q\rightarrow Rb | b\\
&R\rightarrow Sa| a\\
\end{aligned}
</script><p></p>

<p>虽不具有左递归，但S、Q、R都是左递归的，因为经过若干次推导有</p>

<ul>
<li>SQcRbcSabc</li>
<li>QRbSabQcab</li>
<li>RSaQcaRbca <br>
就显现出其左递归性了，这就是间接左递归文法。 <br>
<strong><em>消除间接左递归的方法</em></strong>是: <br>


<blockquote>
<p>把间接左递归文法改写为直接左递归文法，然后用消除直接左递归的方法改写文法。 <br>
如果一个文法不含有回路，即形如PP的推导，也不含有以ε为右部的产生式，那么就可以采用下述算法消除文法的所有左递归。</p></blockquote></li>
</ul> <br>
消除左递归算法：


<ul>
<li>（1） 把文法G的所有非终结符按任一顺序排列，例如，A1，A2，…，An。</li>
<li>（2）</li>
</ul>



<pre class="prettyprint" name="code"><code class="language-C++ hljs matlab has-numbering" style="position: unset;" onclick="mdcp.signin(event)"><span class="hljs-keyword">for</span> （<span class="hljs-built_in">i</span>＝<span class="hljs-number">1</span>；<span class="hljs-built_in">i</span>&lt;=n；<span class="hljs-built_in">i</span>++）
<span class="hljs-keyword">for</span> （<span class="hljs-built_in">j</span>＝<span class="hljs-number">1</span>；<span class="hljs-built_in">j</span>&lt;=<span class="hljs-built_in">i</span>－<span class="hljs-number">1</span>；<span class="hljs-built_in">j</span>++）
<span class="hljs-cell">{ 把形如Ai→Ajγ的产生式改写成Ai→δ<span class="hljs-number">1</span>γ /δ<span class="hljs-number">2</span>γ /…/δkγ 
其中Aj→δ<span class="hljs-number">1</span> /δ<span class="hljs-number">2</span> /…/δk是关于的Aj全部规则；
消除Ai规则中的直接左递归；
}</span><div class="hljs-button signin" data-title="登录后复制"></div></code><ul class="pre-numbering"><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li></ul></pre>

<ul>
<li>（3） 化简由（2）所得到的文法，即去掉多余的规则。</li>
</ul>

<p>利用此算法可以将上述文法进行改写，来消除左递归。 <br>
首先，令非终结符的排序为R、Q、S。对于R，不存在直接左递归。把R代入到Q中的相关规则中，则Q的规则变为Q→Sab/ ab/ b。 <br>
代换后的Q不含有直接左递归，将其代入S，S的规则变为S→Sabc/ abc/ bc/ c。 <br>
此时，S存在直接左递归。在消除了S的直接左递归后，得到整个文法为： <br>
<span class="MathJax_Preview"></span></p><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"></div><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span tabindex="0" class="MathJax" id="MathJax-Element-16-Frame" role="presentation" style="text-align: center; position: relative;" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd /><mtd><mi>S</mi><mo stretchy="false">&amp;#x2192;</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup></mtd></mtr><mtr><mtd /><mtd><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mo stretchy="false">&amp;#x2192;</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>&amp;#x3B5;</mo></mrow></mtd></mtr><mtr><mtd /><mtd><mi>Q</mi><mo stretchy="false">&amp;#x2192;</mo><mi>S</mi><mi>a</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi></mtd></mtr><mtr><mtd /><mtd><mi>R</mi><mo stretchy="false">&amp;#x2192;</mo><mi>S</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi></mtd></mtr></mtable></math>'><nobr aria-hidden="true"><span class="math" id="MathJax-Span-79" style="width: 10.71em; display: inline-block;"><span style="width: 8.64em; height: 0px; font-size: 124%; display: inline-block; position: relative;"><span style="left: 0em; top: -2.3em; position: absolute; clip: rect(-0.67em, 1008.48em, 4.78em, -1000em);"><span class="mrow" id="MathJax-Span-80"><span class="mtable" id="MathJax-Span-81" style="padding-right: 0.16em; padding-left: 0.16em;"><span style="width: 8.34em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -5.06em; position: absolute; clip: rect(2.89em, 1000em, 7.3em, -1000em);"><span style="width: 0em; height: 0px; display: inline-block; position: relative;"><span style="top: -5.97em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-82"><span class="mrow" id="MathJax-Span-83"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -4.61em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-109"><span class="mrow" id="MathJax-Span-110"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -3.26em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-129"><span class="mrow" id="MathJax-Span-130"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -1.91em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-147"><span class="mrow" id="MathJax-Span-148"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 5.06em; display: inline-block;"></span></span><span style="left: 0em; top: -6.1em; position: absolute; clip: rect(3.12em, 1008.35em, 8.58em, -1000em);"><span style="width: 8.34em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -5.97em; position: absolute; clip: rect(2.99em, 1008.35em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-84"><span class="mrow" id="MathJax-Span-85"><span class="mi" id="MathJax-Span-86" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mo" id="MathJax-Span-87" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-88" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-89" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-90" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-91"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-92" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-93" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-94"><span class="mrow" id="MathJax-Span-95"><span class="mo" id="MathJax-Span-96" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-97" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-98" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-99"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-100" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-101" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-102"><span class="mrow" id="MathJax-Span-103"><span class="mo" id="MathJax-Span-104" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-105" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-106"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-107" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-108" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -4.61em; position: absolute; clip: rect(2.99em, 1005.58em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-111"><span class="mrow" id="MathJax-Span-112"><span class="msup" id="MathJax-Span-113"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-114" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-115" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="mo" id="MathJax-Span-116" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-117" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-118" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-119" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-120"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-121" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-122" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-123"><span class="mrow" id="MathJax-Span-124"><span class="mo" id="MathJax-Span-125" style="font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-126"><span class="mrow" id="MathJax-Span-127"><span class="mo" id="MathJax-Span-128" style="font-family: MathJax_Math; font-style: italic;">ε</span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.26em; position: absolute; clip: rect(3.05em, 1005.87em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-131"><span class="mrow" id="MathJax-Span-132"><span class="mi" id="MathJax-Span-133" style="font-family: MathJax_Math; font-style: italic;">Q</span><span class="mo" id="MathJax-Span-134" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-135" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mi" id="MathJax-Span-136" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-137" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="texatom" id="MathJax-Span-138"><span class="mrow" id="MathJax-Span-139"><span class="mo" id="MathJax-Span-140" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-141" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-142" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="texatom" id="MathJax-Span-143"><span class="mrow" id="MathJax-Span-144"><span class="mo" id="MathJax-Span-145" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-146" style="font-family: MathJax_Math; font-style: italic;">b</span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -1.91em; position: absolute; clip: rect(3.05em, 1004.25em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-149"><span class="mrow" id="MathJax-Span-150"><span class="mi" id="MathJax-Span-151" style="font-family: MathJax_Math; font-style: italic;">R</span><span class="mo" id="MathJax-Span-152" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-153" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mi" id="MathJax-Span-154" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="texatom" id="MathJax-Span-155"><span class="mrow" id="MathJax-Span-156"><span class="mo" id="MathJax-Span-157" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-158" style="font-family: MathJax_Math; font-style: italic;">a</span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 6.1em; display: inline-block;"></span></span></span></span></span><span style="width: 0px; height: 2.3em; display: inline-block;"></span></span></span><span style="width: 0px; height: 6.48em; overflow: hidden; vertical-align: -2.93em; border-left-color: currentColor; border-left-width: 0px; border-left-style: solid; display: inline-block;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" columnalign="right left right left right left right left right left right left"><mtr><mtd></mtd><mtd><mi>S</mi><mo stretchy="false">→</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd></mtd><mtd><msup><mi>S</mi><mo>′</mo></msup><mo stretchy="false">→</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ε</mo></mrow></mtd></mtr><mtr><mtd></mtd><mtd><mi>Q</mi><mo stretchy="false">→</mo><mi>S</mi><mi>a</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi><mi>b</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi></mtd></mtr><mtr><mtd></mtd><mtd><mi>R</mi><mo stretchy="false">→</mo><mi>S</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi></mtd></mtr></mtable></math></span></span></div><script id="MathJax-Element-16" type="math/tex; mode=display">
\begin{aligned}
&S\rightarrow abcS’| bcS'| cS'\\
&S’\rightarrow abcS'| ε\\
&Q\rightarrow Sab| ab| b\\
&R\rightarrow Sa|a\\
\end{aligned}
</script> <br>
可以看到从文法开始符号S出发，永远无法达到Q和R，所以关于Q和R的规则是多余的，将其删除并化简，最后得到文法G[S]为： <br>
<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"></div><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span tabindex="0" class="MathJax" id="MathJax-Element-17-Frame" role="presentation" style="text-align: center; position: relative;" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd /><mtd><mi>S</mi><mo stretchy="false">&amp;#x2192;</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup></mtd></mtr><mtr><mtd /><mtd><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mo stretchy="false">&amp;#x2192;</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>&amp;#x3B5;</mo></mrow></mtd></mtr></mtable></math>'><nobr aria-hidden="true"><span class="math" id="MathJax-Span-159" style="width: 10.71em; display: inline-block;"><span style="width: 8.64em; height: 0px; font-size: 124%; display: inline-block; position: relative;"><span style="left: 0em; top: -2.3em; position: absolute; clip: rect(0.67em, 1008.48em, 3.43em, -1000em);"><span class="mrow" id="MathJax-Span-160"><span class="mtable" id="MathJax-Span-161" style="padding-right: 0.16em; padding-left: 0.16em;"><span style="width: 8.34em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.15em, 1000em, 4.85em, -1000em);"><span style="width: 0em; height: 0px; display: inline-block; position: relative;"><span style="top: -4.62em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-162"><span class="mrow" id="MathJax-Span-163"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -3.26em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-189"><span class="mrow" id="MathJax-Span-190"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(2.34em, 1008.35em, 5.1em, -1000em);"><span style="width: 8.34em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -4.62em; position: absolute; clip: rect(2.99em, 1008.35em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-164"><span class="mrow" id="MathJax-Span-165"><span class="mi" id="MathJax-Span-166" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span class="mo" id="MathJax-Span-167" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-168" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-169" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-170" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-171"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-172" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-173" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-174"><span class="mrow" id="MathJax-Span-175"><span class="mo" id="MathJax-Span-176" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-177" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-178" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-179"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-180" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-181" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-182"><span class="mrow" id="MathJax-Span-183"><span class="mo" id="MathJax-Span-184" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-185" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-186"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-187" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-188" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.26em; position: absolute; clip: rect(2.99em, 1005.58em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-191"><span class="mrow" id="MathJax-Span-192"><span class="msup" id="MathJax-Span-193"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-194" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-195" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="mo" id="MathJax-Span-196" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-197" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">a</span><span class="mi" id="MathJax-Span-198" style="font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-199" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="msup" id="MathJax-Span-200"><span style="width: 0.97em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.09em, 1000.64em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-201" style="font-family: MathJax_Math; font-style: italic;">S<span style="width: 0.03em; height: 1px; overflow: hidden; display: inline-block;"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.7em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-202" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-203"><span class="mrow" id="MathJax-Span-204"><span class="mo" id="MathJax-Span-205" style="font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-206"><span class="mrow" id="MathJax-Span-207"><span class="mo" id="MathJax-Span-208" style="font-family: MathJax_Math; font-style: italic;">ε</span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span><span style="width: 0px; height: 2.3em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.13em; overflow: hidden; vertical-align: -1.25em; border-left-color: currentColor; border-left-width: 0px; border-left-style: solid; display: inline-block;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" columnalign="right left right left right left right left right left right left"><mtr><mtd></mtd><mtd><mi>S</mi><mo stretchy="false">→</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd></mtd><mtd><msup><mi>S</mi><mo>′</mo></msup><mo stretchy="false">→</mo><mi>a</mi><mi>b</mi><mi>c</mi><msup><mi>S</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ε</mo></mrow></mtd></mtr></mtable></math></span></span></div><script id="MathJax-Element-17" type="math/tex; mode=display">
\begin{aligned}
&S\rightarrow abcS'| bcS’|cS'\\
&S' \rightarrow  abcS'| ε
\end{aligned}
</script> <br>
当然如果对文法非终结符排序的不同，最后得到的文法在形式上可能不一样，但它们都是等价的。例如，如果对上述非终结符排序选为S、Q、R，那么最后得到的文法G[R]为： <br>
<span class="MathJax_Preview"></span><div class="MathJax_Display" role="textbox" aria-readonly="true" style="text-align: center;"></div><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_Display" style="text-align: center;"><span tabindex="0" class="MathJax" id="MathJax-Element-18-Frame" role="presentation" style="text-align: center; position: relative;" data-mathml='<math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd /><mtd><mi>R</mi><mo stretchy="false">&amp;#x2192;</mo><mi>b</mi><mi>c</mi><mi>a</mi><msup><mi>R</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi><mi>a</mi><msup><mi>R</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi><msup><mi>R</mi><mo>&amp;#x2032;</mo></msup></mtd></mtr><mtr><mtd /><mtd><msup><mi>R</mi><mo>&amp;#x2032;</mo></msup><mo stretchy="false">&amp;#x2192;</mo><mi>b</mi><mi>c</mi><mi>a</mi><msup><mi>R</mi><mo>&amp;#x2032;</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>&amp;#x3B5;</mo></mrow></mtd></mtr></mtable></math>'><nobr aria-hidden="true"><span class="math" id="MathJax-Span-209" style="width: 11.29em; display: inline-block;"><span style="width: 9.1em; height: 0px; font-size: 124%; display: inline-block; position: relative;"><span style="left: 0em; top: -2.3em; position: absolute; clip: rect(0.67em, 1008.94em, 3.43em, -1000em);"><span class="mrow" id="MathJax-Span-210"><span class="mtable" id="MathJax-Span-211" style="padding-right: 0.16em; padding-left: 0.16em;"><span style="width: 8.82em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.15em, 1000em, 4.85em, -1000em);"><span style="width: 0em; height: 0px; display: inline-block; position: relative;"><span style="top: -4.62em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-212"><span class="mrow" id="MathJax-Span-213"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="top: -3.26em; right: 0em; position: absolute; clip: rect(3.8em, 1000em, 4.14em, -1000em);"><span class="mtd" id="MathJax-Span-239"><span class="mrow" id="MathJax-Span-240"></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(2.34em, 1008.82em, 5.1em, -1000em);"><span style="width: 8.82em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -4.62em; position: absolute; clip: rect(2.99em, 1008.82em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-214"><span class="mrow" id="MathJax-Span-215"><span class="mi" id="MathJax-Span-216" style="font-family: MathJax_Math; font-style: italic;">R</span><span class="mo" id="MathJax-Span-217" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-218" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-219" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-220" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="msup" id="MathJax-Span-221"><span style="width: 1.02em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-222" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.75em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-223" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-224"><span class="mrow" id="MathJax-Span-225"><span class="mo" id="MathJax-Span-226" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-227" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-228" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="msup" id="MathJax-Span-229"><span style="width: 1.02em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-230" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.75em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-231" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-232"><span class="mrow" id="MathJax-Span-233"><span class="mo" id="MathJax-Span-234" style="font-family: MathJax_Main;">|</span></span></span><span class="mi" id="MathJax-Span-235" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="msup" id="MathJax-Span-236"><span style="width: 1.02em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-237" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.75em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-238" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0em; top: -3.26em; position: absolute; clip: rect(2.99em, 1005.69em, 4.39em, -1000em);"><span class="mtd" id="MathJax-Span-241"><span class="mrow" id="MathJax-Span-242"><span class="msup" id="MathJax-Span-243"><span style="width: 1.02em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-244" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.75em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-245" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="mo" id="MathJax-Span-246" style="padding-left: 0.27em; font-family: MathJax_Main;">→</span><span class="mi" id="MathJax-Span-247" style="padding-left: 0.27em; font-family: MathJax_Math; font-style: italic;">b</span><span class="mi" id="MathJax-Span-248" style="font-family: MathJax_Math; font-style: italic;">c</span><span class="mi" id="MathJax-Span-249" style="font-family: MathJax_Math; font-style: italic;">a</span><span class="msup" id="MathJax-Span-250"><span style="width: 1.02em; height: 0px; display: inline-block; position: relative;"><span style="left: 0em; top: -3.97em; position: absolute; clip: rect(3.11em, 1000.75em, 4.16em, -1000em);"><span class="mi" id="MathJax-Span-251" style="font-family: MathJax_Math; font-style: italic;">R</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span><span style="left: 0.75em; top: -4.38em; position: absolute;"><span class="mo" id="MathJax-Span-252" style="font-family: MathJax_Main; font-size: 70.7%;">′</span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span><span class="texatom" id="MathJax-Span-253"><span class="mrow" id="MathJax-Span-254"><span class="mo" id="MathJax-Span-255" style="font-family: MathJax_Main;">|</span></span></span><span class="texatom" id="MathJax-Span-256"><span class="mrow" id="MathJax-Span-257"><span class="mo" id="MathJax-Span-258" style="font-family: MathJax_Math; font-style: italic;">ε</span></span></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.97em; display: inline-block;"></span></span></span></span></span><span style="width: 0px; height: 2.3em; display: inline-block;"></span></span></span><span style="width: 0px; height: 3.13em; overflow: hidden; vertical-align: -1.25em; border-left-color: currentColor; border-left-width: 0px; border-left-style: solid; display: inline-block;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable displaystyle="true" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" rowspacing="3pt" columnalign="right left right left right left right left right left right left"><mtr><mtd></mtd><mtd><mi>R</mi><mo stretchy="false">→</mo><mi>b</mi><mi>c</mi><mi>a</mi><msup><mi>R</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>c</mi><mi>a</mi><msup><mi>R</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>a</mi><msup><mi>R</mi><mo>′</mo></msup></mtd></mtr><mtr><mtd></mtd><mtd><msup><mi>R</mi><mo>′</mo></msup><mo stretchy="false">→</mo><mi>b</mi><mi>c</mi><mi>a</mi><msup><mi>R</mi><mo>′</mo></msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mo>ε</mo></mrow></mtd></mtr></mtable></math></span></span></div><script id="MathJax-Element-18" type="math/tex; mode=display">
\begin{aligned}
&R\rightarrow bcaR'| caR'| aR’\\
&R' \rightarrow bcaR'| ε
\end{aligned}
</script> <br>
容易证明上述两个文法是等价的。<p></p>



<h1 id="代码实现"><a name="t4"></a><a name="t4"></a>代码实现</h1>



<pre class="prettyprint" name="code"><code class="language-C++ hljs cpp has-numbering" style="position: unset;" onclick="mdcp.signin(event)"><span class="hljs-preprocessor">#include &lt;iostream&gt;</span>
<span class="hljs-preprocessor">#include &lt;cstdio&gt;</span>
<span class="hljs-preprocessor">#include &lt;algorithm&gt;</span>
<span class="hljs-preprocessor">#include &lt;cstring&gt;</span>
<span class="hljs-preprocessor">#include &lt;string&gt;</span>
<span class="hljs-preprocessor">#include &lt;vector&gt;</span>
<span class="hljs-preprocessor">#include &lt;queue&gt;</span>
<span class="hljs-preprocessor">#include &lt;cctype&gt;</span>
<span class="hljs-preprocessor">#include &lt;map&gt;</span>
<span class="hljs-preprocessor">#include &lt;set&gt;</span>
<span class="hljs-preprocessor">#define MAX 507</span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-keyword">class</span> WF
{
<span class="hljs-keyword">public</span>:
<span class="hljs-built_in">string</span> left;
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span> right;
WF ( <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; temp )
{
left = temp;
right.clear();
}
<span class="hljs-keyword">void</span> print ( )
{
<span class="hljs-built_in">printf</span> ( <span class="hljs-string">"%s::="</span> , left.c_str() );
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>::iterator it = right.begin();
<span class="hljs-built_in">printf</span> ( <span class="hljs-string">"%s"</span> , it-&gt;c_str());
it++;
<span class="hljs-keyword">for</span> ( ; it!= right.end() ; it++ )
<span class="hljs-built_in">printf</span> ( <span class="hljs-string">"|%s"</span> , it-&gt;c_str() );
<span class="hljs-built_in">puts</span>(<span class="hljs-string">""</span>);
}
<span class="hljs-keyword">void</span> insert ( <span class="hljs-keyword">const</span> <span class="hljs-built_in">string</span>&amp; temp )
{
right.insert(temp);
}
};

<span class="hljs-stl_container"><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-keyword">int</span>&gt;</span> VN_dic;
<span class="hljs-stl_container"><span class="hljs-built_in">vector</span>&lt;WF&gt;</span> VN_set;
<span class="hljs-built_in">string</span> start;
<span class="hljs-keyword">bool</span> used[MAX];

<span class="hljs-comment">//消除间接左递归</span>
<span class="hljs-keyword">void</span> remove1 ( )
{
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; VN_set.size() ; i++ )
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span> ; j &lt; i ; j++ )
{
<span class="hljs-stl_container"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;</span> cont;
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>&amp; right1 = VN_set[i].right;
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>&amp; right2 = VN_set[j].right;
<span class="hljs-keyword">char</span> ch = VN_set[j].left[<span class="hljs-number">0</span>];
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>::iterator it1 = right1.begin();
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>::iterator it2;
<span class="hljs-keyword">for</span> ( ; it1 != right1.end() ; it1++ )
<span class="hljs-keyword">if</span> ( it1-&gt;at(<span class="hljs-number">0</span>) == ch )
<span class="hljs-keyword">for</span> ( it2 = right2.begin() ; it2 != right2.end() ; it2++ )
cont.push_back ( *it2 + it1-&gt;substr(<span class="hljs-number">1</span>) ); 
<span class="hljs-keyword">int</span> nn = right1.size();
<span class="hljs-keyword">while</span> ( nn-- )
{
<span class="hljs-keyword">if</span> ( right1.begin()-&gt;at(<span class="hljs-number">0</span>) == ch ) 
right1.erase ( right1.begin() );
<span class="hljs-keyword">else</span> 
{
cont.push_back ( *right1.begin() );
right1.erase ( right1.begin() );
}
}
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; cont.size() ; i++ )
right1.insert ( cont[i] );
}
<span class="hljs-preprocessor">#define DEBUG</span>
<span class="hljs-preprocessor">#ifdef DEBUG</span>
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; VN_set.size() ; i++ )
VN_set[i].print();
<span class="hljs-preprocessor">#endif</span>
}

<span class="hljs-comment">//消除直接左递归</span>
<span class="hljs-keyword">void</span> remove2 ( )
{
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; VN_set.size() ; i++ )
{
<span class="hljs-keyword">char</span> ch = VN_set[i].left[<span class="hljs-number">0</span>];
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>&amp; temp = VN_set[i].right;
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>::iterator it = temp.begin();
<span class="hljs-built_in">string</span> tt = VN_set[i].left.substr(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>)+<span class="hljs-string">"\'"</span>;
<span class="hljs-keyword">bool</span> flag = <span class="hljs-keyword">true</span>;
<span class="hljs-keyword">for</span> ( ; it != temp.end() ; it++ )
<span class="hljs-keyword">if</span> ( it-&gt;at(<span class="hljs-number">0</span>) == ch )
{
VN_set.push_back ( WF(tt));
VN_dic[tt] = VN_set.size();
flag = <span class="hljs-keyword">false</span>;
<span class="hljs-keyword">break</span>;
}
<span class="hljs-keyword">int</span> x = VN_dic[tt]-<span class="hljs-number">1</span>;
<span class="hljs-keyword">if</span> ( flag ) <span class="hljs-keyword">continue</span>;
<span class="hljs-stl_container"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;</span> cont;
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>&amp; ss = VN_set[x].right;
ss.insert ( <span class="hljs-string">"~"</span> );
<span class="hljs-keyword">while</span> (!temp.empty())
{
<span class="hljs-keyword">if</span> ( temp.begin()-&gt;at(<span class="hljs-number">0</span>) == ch )
ss.insert(temp.begin()-&gt;substr(<span class="hljs-number">1</span>)+tt);
<span class="hljs-keyword">else</span> 
{
<span class="hljs-comment">//cout &lt;&lt; "YES : " &lt;&lt; temp.begin()-&gt;substr(1)+tt;</span>
cont.push_back (temp.begin()-&gt;substr(<span class="hljs-number">0</span>)+tt);
}
temp.erase(temp.begin());
}
<span class="hljs-built_in">puts</span> (<span class="hljs-string">""</span>);
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; cont.size() ; i++ )
{
<span class="hljs-comment">//cout &lt;&lt; cont[i] &lt;&lt; endl;</span>
temp.insert ( cont[i] );
}
}
<span class="hljs-preprocessor">#define DEBUG</span>
<span class="hljs-preprocessor">#ifdef DEBUG</span>
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; VN_set.size() ; i++ )
VN_set[i].print();
<span class="hljs-preprocessor">#endif</span>
}

<span class="hljs-keyword">void</span> dfs ( <span class="hljs-keyword">int</span> x )
{
<span class="hljs-keyword">if</span> ( used[x] ) <span class="hljs-keyword">return</span>;
used[x] = <span class="hljs-number">1</span>;
<span class="hljs-stl_container"><span class="hljs-built_in">set</span>&lt;<span class="hljs-built_in">string</span>&gt;</span>::iterator it = VN_set[x].right.begin();
<span class="hljs-keyword">for</span> ( ; it != VN_set[x].right.end(); it++ )
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; it-&gt;length() ; i++ )
<span class="hljs-keyword">if</span> ( <span class="hljs-built_in">isupper</span>(it-&gt;at(i)) )
{
<span class="hljs-keyword">if</span> ( it-&gt;length() &gt; i+<span class="hljs-number">1</span> &amp;&amp; it-&gt;at(i+<span class="hljs-number">1</span>) == <span class="hljs-string">'\''</span> )
dfs ( VN_dic[it-&gt;substr(i,<span class="hljs-number">2</span>)]-<span class="hljs-number">1</span> );
<span class="hljs-keyword">else</span> 
dfs ( VN_dic[it-&gt;substr(i,<span class="hljs-number">1</span>)]-<span class="hljs-number">1</span> );
}
}

<span class="hljs-comment">//化简</span>
<span class="hljs-keyword">void</span> simplify ( )
{
<span class="hljs-built_in">memset</span> ( used , <span class="hljs-number">0</span> , <span class="hljs-keyword">sizeof</span> ( used ) );
<span class="hljs-keyword">int</span> x = VN_dic[start]-<span class="hljs-number">1</span>;
dfs ( x );
<span class="hljs-built_in">puts</span> ( <span class="hljs-string">"finish"</span> );
<span class="hljs-stl_container"><span class="hljs-built_in">vector</span>&lt;WF&gt;</span> res;
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; VN_set.size() ; i++ )
<span class="hljs-keyword">if</span> ( used[i] ) 
res.push_back ( VN_set[i] );
VN_set.clear();
VN_set = res;
}

<span class="hljs-keyword">void</span>  print () 
{
<span class="hljs-built_in">puts</span>(<span class="hljs-string">"**********消除左递归后的结果********"</span>);
<span class="hljs-keyword">for</span> ( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span> ; i &lt; VN_set.size() ; i++ )
VN_set[i].print();
<span class="hljs-built_in">puts</span>(<span class="hljs-string">""</span>);
}

<span class="hljs-keyword">int</span> main ( )
{
<span class="hljs-keyword">char</span> buf[MAX];
<span class="hljs-keyword">int</span> n;
VN_dic.clear();
VN_set.clear();
start=<span class="hljs-string">"S"</span>;
<span class="hljs-built_in">puts</span> (<span class="hljs-string">"请输入文法G[S]的产生式数量"</span>);
<span class="hljs-keyword">while</span> ( ~<span class="hljs-built_in">scanf</span> (<span class="hljs-string">"%d"</span> , &amp;n ) )
{
<span class="hljs-built_in">scanf</span> ( <span class="hljs-string">"%d"</span> , &amp;n );
<span class="hljs-keyword">while</span> ( n-- )
{
<span class="hljs-built_in">scanf</span> ( <span class="hljs-string">"%s"</span> , buf );
<span class="hljs-keyword">int</span> len = <span class="hljs-built_in">strlen</span> ( buf ),i;
<span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span> ; i &lt; len ; i++ )
<span class="hljs-keyword">if</span> ( buf[i] == <span class="hljs-string">':'</span> ) 
{
buf[i] = <span class="hljs-number">0</span>;
<span class="hljs-keyword">break</span>;
}
<span class="hljs-built_in">string</span> temp = buf;
<span class="hljs-keyword">if</span> ( !VN_dic[temp] )
{
VN_set.push_back ( WF(temp));
VN_dic[temp] = VN_set.size();
}
<span class="hljs-keyword">int</span> x = VN_dic[temp]-<span class="hljs-number">1</span>;
temp = buf+i+<span class="hljs-number">3</span>;
<span class="hljs-comment">//cout &lt;&lt;"the right :  " &lt;&lt; temp &lt;&lt; endl;</span>
VN_set[x].insert(temp);
}
remove1();
remove2();
simplify();
print();
<span class="hljs-comment">//puts ("请输入文法G[S]的产生式数量");</span>
}   
}<div class="hljs-button signin" data-title="登录后复制"></div></code><ul class="pre-numbering"><li style="color: rgb(153, 153, 153);">1</li><li style="color: rgb(153, 153, 153);">2</li><li style="color: rgb(153, 153, 153);">3</li><li style="color: rgb(153, 153, 153);">4</li><li style="color: rgb(153, 153, 153);">5</li><li style="color: rgb(153, 153, 153);">6</li><li style="color: rgb(153, 153, 153);">7</li><li style="color: rgb(153, 153, 153);">8</li><li style="color: rgb(153, 153, 153);">9</li><li style="color: rgb(153, 153, 153);">10</li><li style="color: rgb(153, 153, 153);">11</li><li style="color: rgb(153, 153, 153);">12</li><li style="color: rgb(153, 153, 153);">13</li><li style="color: rgb(153, 153, 153);">14</li><li style="color: rgb(153, 153, 153);">15</li><li style="color: rgb(153, 153, 153);">16</li><li style="color: rgb(153, 153, 153);">17</li><li style="color: rgb(153, 153, 153);">18</li><li style="color: rgb(153, 153, 153);">19</li><li style="color: rgb(153, 153, 153);">20</li><li style="color: rgb(153, 153, 153);">21</li><li style="color: rgb(153, 153, 153);">22</li><li style="color: rgb(153, 153, 153);">23</li><li style="color: rgb(153, 153, 153);">24</li><li style="color: rgb(153, 153, 153);">25</li><li style="color: rgb(153, 153, 153);">26</li><li style="color: rgb(153, 153, 153);">27</li><li style="color: rgb(153, 153, 153);">28</li><li style="color: rgb(153, 153, 153);">29</li><li style="color: rgb(153, 153, 153);">30</li><li style="color: rgb(153, 153, 153);">31</li><li style="color: rgb(153, 153, 153);">32</li><li style="color: rgb(153, 153, 153);">33</li><li style="color: rgb(153, 153, 153);">34</li><li style="color: rgb(153, 153, 153);">35</li><li style="color: rgb(153, 153, 153);">36</li><li style="color: rgb(153, 153, 153);">37</li><li style="color: rgb(153, 153, 153);">38</li><li style="color: rgb(153, 153, 153);">39</li><li style="color: rgb(153, 153, 153);">40</li><li style="color: rgb(153, 153, 153);">41</li><li style="color: rgb(153, 153, 153);">42</li><li style="color: rgb(153, 153, 153);">43</li><li style="color: rgb(153, 153, 153);">44</li><li style="color: rgb(153, 153, 153);">45</li><li style="color: rgb(153, 153, 153);">46</li><li style="color: rgb(153, 153, 153);">47</li><li style="color: rgb(153, 153, 153);">48</li><li style="color: rgb(153, 153, 153);">49</li><li style="color: rgb(153, 153, 153);">50</li><li style="color: rgb(153, 153, 153);">51</li><li style="color: rgb(153, 153, 153);">52</li><li style="color: rgb(153, 153, 153);">53</li><li style="color: rgb(153, 153, 153);">54</li><li style="color: rgb(153, 153, 153);">55</li><li style="color: rgb(153, 153, 153);">56</li><li style="color: rgb(153, 153, 153);">57</li><li style="color: rgb(153, 153, 153);">58</li><li style="color: rgb(153, 153, 153);">59</li><li style="color: rgb(153, 153, 153);">60</li><li style="color: rgb(153, 153, 153);">61</li><li style="color: rgb(153, 153, 153);">62</li><li style="color: rgb(153, 153, 153);">63</li><li style="color: rgb(153, 153, 153);">64</li><li style="color: rgb(153, 153, 153);">65</li><li style="color: rgb(153, 153, 153);">66</li><li style="color: rgb(153, 153, 153);">67</li><li style="color: rgb(153, 153, 153);">68</li><li style="color: rgb(153, 153, 153);">69</li><li style="color: rgb(153, 153, 153);">70</li><li style="color: rgb(153, 153, 153);">71</li><li style="color: rgb(153, 153, 153);">72</li><li style="color: rgb(153, 153, 153);">73</li><li style="color: rgb(153, 153, 153);">74</li><li style="color: rgb(153, 153, 153);">75</li><li style="color: rgb(153, 153, 153);">76</li><li style="color: rgb(153, 153, 153);">77</li><li style="color: rgb(153, 153, 153);">78</li><li style="color: rgb(153, 153, 153);">79</li><li style="color: rgb(153, 153, 153);">80</li><li style="color: rgb(153, 153, 153);">81</li><li style="color: rgb(153, 153, 153);">82</li><li style="color: rgb(153, 153, 153);">83</li><li style="color: rgb(153, 153, 153);">84</li><li style="color: rgb(153, 153, 153);">85</li><li style="color: rgb(153, 153, 153);">86</li><li style="color: rgb(153, 153, 153);">87</li><li style="color: rgb(153, 153, 153);">88</li><li style="color: rgb(153, 153, 153);">89</li><li style="color: rgb(153, 153, 153);">90</li><li style="color: rgb(153, 153, 153);">91</li><li style="color: rgb(153, 153, 153);">92</li><li style="color: rgb(153, 153, 153);">93</li><li style="color: rgb(153, 153, 153);">94</li><li style="color: rgb(153, 153, 153);">95</li><li style="color: rgb(153, 153, 153);">96</li><li style="color: rgb(153, 153, 153);">97</li><li style="color: rgb(153, 153, 153);">98</li><li style="color: rgb(153, 153, 153);">99</li><li style="color: rgb(153, 153, 153);">100</li><li style="color: rgb(153, 153, 153);">101</li><li style="color: rgb(153, 153, 153);">102</li><li style="color: rgb(153, 153, 153);">103</li><li style="color: rgb(153, 153, 153);">104</li><li style="color: rgb(153, 153, 153);">105</li><li style="color: rgb(153, 153, 153);">106</li><li style="color: rgb(153, 153, 153);">107</li><li style="color: rgb(153, 153, 153);">108</li><li style="color: rgb(153, 153, 153);">109</li><li style="color: rgb(153, 153, 153);">110</li><li style="color: rgb(153, 153, 153);">111</li><li style="color: rgb(153, 153, 153);">112</li><li style="color: rgb(153, 153, 153);">113</li><li style="color: rgb(153, 153, 153);">114</li><li style="color: rgb(153, 153, 153);">115</li><li style="color: rgb(153, 153, 153);">116</li><li style="color: rgb(153, 153, 153);">117</li><li style="color: rgb(153, 153, 153);">118</li><li style="color: rgb(153, 153, 153);">119</li><li style="color: rgb(153, 153, 153);">120</li><li style="color: rgb(153, 153, 153);">121</li><li style="color: rgb(153, 153, 153);">122</li><li style="color: rgb(153, 153, 153);">123</li><li style="color: rgb(153, 153, 153);">124</li><li style="color: rgb(153, 153, 153);">125</li><li style="color: rgb(153, 153, 153);">126</li><li style="color: rgb(153, 153, 153);">127</li><li style="color: rgb(153, 153, 153);">128</li><li style="color: rgb(153, 153, 153);">129</li><li style="color: rgb(153, 153, 153);">130</li><li style="color: rgb(153, 153, 153);">131</li><li style="color: rgb(153, 153, 153);">132</li><li style="color: rgb(153, 153, 153);">133</li><li style="color: rgb(153, 153, 153);">134</li><li style="color: rgb(153, 153, 153);">135</li><li style="color: rgb(153, 153, 153);">136</li><li style="color: rgb(153, 153, 153);">137</li><li style="color: rgb(153, 153, 153);">138</li><li style="color: rgb(153, 153, 153);">139</li><li style="color: rgb(153, 153, 153);">140</li><li style="color: rgb(153, 153, 153);">141</li><li style="color: rgb(153, 153, 153);">142</li><li style="color: rgb(153, 153, 153);">143</li><li style="color: rgb(153, 153, 153);">144</li><li style="color: rgb(153, 153, 153);">145</li><li style="color: rgb(153, 153, 153);">146</li><li style="color: rgb(153, 153, 153);">147</li><li style="color: rgb(153, 153, 153);">148</li><li style="color: rgb(153, 153, 153);">149</li><li style="color: rgb(153, 153, 153);">150</li><li style="color: rgb(153, 153, 153);">151</li><li style="color: rgb(153, 153, 153);">152</li><li style="color: rgb(153, 153, 153);">153</li><li style="color: rgb(153, 153, 153);">154</li><li style="color: rgb(153, 153, 153);">155</li><li style="color: rgb(153, 153, 153);">156</li><li style="color: rgb(153, 153, 153);">157</li><li style="color: rgb(153, 153, 153);">158</li><li style="color: rgb(153, 153, 153);">159</li><li style="color: rgb(153, 153, 153);">160</li><li style="color: rgb(153, 153, 153);">161</li><li style="color: rgb(153, 153, 153);">162</li><li style="color: rgb(153, 153, 153);">163</li><li style="color: rgb(153, 153, 153);">164</li><li style="color: rgb(153, 153, 153);">165</li><li style="color: rgb(153, 153, 153);">166</li><li style="color: rgb(153, 153, 153);">167</li><li style="color: rgb(153, 153, 153);">168</li><li style="color: rgb(153, 153, 153);">169</li><li style="color: rgb(153, 153, 153);">170</li><li style="color: rgb(153, 153, 153);">171</li><li style="color: rgb(153, 153, 153);">172</li><li style="color: rgb(153, 153, 153);">173</li><li style="color: rgb(153, 153, 153);">174</li><li style="color: rgb(153, 153, 153);">175</li><li style="color: rgb(153, 153, 153);">176</li><li style="color: rgb(153, 153, 153);">177</li><li style="color: rgb(153, 153, 153);">178</li><li style="color: rgb(153, 153, 153);">179</li><li style="color: rgb(153, 153, 153);">180</li><li style="color: rgb(153, 153, 153);">181</li><li style="color: rgb(153, 153, 153);">182</li><li style="color: rgb(153, 153, 153);">183</li><li style="color: rgb(153, 153, 153);">184</li><li style="color: rgb(153, 153, 153);">185</li><li style="color: rgb(153, 153, 153);">186</li><li style="color: rgb(153, 153, 153);">187</li><li style="color: rgb(153, 153, 153);">188</li><li style="color: rgb(153, 153, 153);">189</li><li style="color: rgb(153, 153, 153);">190</li><li style="color: rgb(153, 153, 153);">191</li><li style="color: rgb(153, 153, 153);">192</li><li style="color: rgb(153, 153, 153);">193</li><li style="color: rgb(153, 153, 153);">194</li><li style="color: rgb(153, 153, 153);">195</li><li style="color: rgb(153, 153, 153);">196</li><li style="color: rgb(153, 153, 153);">197</li><li style="color: rgb(153, 153, 153);">198</li><li style="color: rgb(153, 153, 153);">199</li><li style="color: rgb(153, 153, 153);">200</li><li style="color: rgb(153, 153, 153);">201</li><li style="color: rgb(153, 153, 153);">202</li><li style="color: rgb(153, 153, 153);">203</li><li style="color: rgb(153, 153, 153);">204</li><li style="color: rgb(153, 153, 153);">205</li><li style="color: rgb(153, 153, 153);">206</li><li style="color: rgb(153, 153, 153);">207</li><li style="color: rgb(153, 153, 153);">208</li></ul></pre>



<h1 id="测试"><a name="t5"></a><a name="t5"></a>测试</h1>

<p>测试样例： <br>
<img title="" alt="这里写图片描述" src="https://img-blog.csdn.net/20151128084404322"> <br>
测试结果: <br>
<img title="" alt="这里写图片描述" src="https://img-blog.csdn.net/20151128084445198"></p>                                    </div>
<link href="https://csdnimg.cn/release/phoenix/mdeditor/markdown_views-b6c3c6d139.css" rel="stylesheet">
<div class="more-toolbox">
<div class="left-toolbox">
<ul class="toolbox-list">

<li class="tool-item tool-active is-like "><a href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#csdnc-thumbsup" />
</svg><span class="name">点赞</span>
<span class="count">11</span>
</a></li>
<li class="tool-item tool-active is-collection "><a href="javascript:;" data-report-click='{"mod":"popu_824"}'><svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-csdnc-Collection-G" />
</svg><span class="name">收藏</span></a></li>
<li class="tool-item tool-active is-share"><a href="javascript:;"><svg xmlns="http://www.w3.org/2000/svg" class="icon" aria-hidden="true">
<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-csdnc-fenxiang" />
</svg>分享</a></li>
<!--打赏开始-->
         <!--打赏结束-->
         <li class="tool-item tool-more">
<a>
<svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 1024 1024" width="200" height="200" t="1575545411852" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" p-id="5717"><defs><style type="text/css" /></defs><path d="M 179.176 499.222 m -113.245 0 a 113.245 113.245 0 1 0 226.49 0 a 113.245 113.245 0 1 0 -226.49 0 Z" p-id="5718" /><path d="M 509.684 499.222 m -113.245 0 a 113.245 113.245 0 1 0 226.49 0 a 113.245 113.245 0 1 0 -226.49 0 Z" p-id="5719" /><path d="M 846.175 499.222 m -113.245 0 a 113.245 113.245 0 1 0 226.49 0 a 113.245 113.245 0 1 0 -226.49 0 Z" p-id="5720" /></svg>
</a>
<ul class="more-box">
<li class="item"><a class="article-report">文章举报</a></li>
</ul>
</li>
     </ul>
</div>
</div>
<div class="person-messagebox">
<div class="left-message"><a href="https://blog.csdn.net/qq_24451605">
<img class="avatar_pic" src="https://profile.csdnimg.cn/7/8/5/3_qq_24451605" username="qq_24451605">
     <img class="user-years" src="https://g.csdnimg.cn/static/user-reg-year/2x/5.png">
</a></div>
<div class="middle-message">
 <div class="title"><span class="tit"><a href="https://blog.csdn.net/qq_24451605" target="_blank" data-report-click='{"mod":"popu_379"}'>黎辰</a></span>
     </div>
<div class="text"><span>发布了794 篇原创文章</span> · <span>获赞 127</span> · <span>访问量 88万+</span></div>
</div>
<div class="right-message">
     <a class="btn btn-sm btn-red-hollow bt-button personal-letter" href="https://im.csdn.net/im/main.html?userName=qq_24451605" target="_blank">私信
</a>
                     <a class="btn btn-sm  bt-button personal-watch" data-report-click='{"mod":"popu_379"}'>关注</a>
</div>
</div>
</div>